{{template "base/head" .}}
<div class="repository commits">
	{{template "repo/header" .}}
	<div class="ui container">
		<div class="ui centered fluid card">
			<div class="content">
				<div class="header">
					Aportaciones de los Usuarios
				</div>
				<div class="meta">
					{{.RepoStadistics.Modifications.Files}} Archivos Modificados/<span style="color: #6cc644;">{{.RepoStadistics.Modifications.Insertions}} ++</span>/<span style="color: #bd2c00;">{{.RepoStadistics.Modifications.Deletions}} -- </span>
				</div>
				<div class="description">
					<canvas id="myChart" width="200" height="40px"></canvas>
				</div>
			</div>
		</div>
		<div class="ui cards">
			{{range .UserStadistics}}
				<div class="ui fluid card" style="width:48.7%;">
					<div class="content">
						<img class="right floated mini ui image" src="{{if not .User.UseCustomAvatar}}https://secure.gravatar.com/avatar/{{.User.Avatar}}{{else}}/avatars/{{.User.ID}}{{end}}">
						<div class="header">
							{{if .User.FullName}}
								{{.User.FullName}}
							{{else if .User.Name}}
								{{.User.Name}}
							{{end}}
						</div>
						<div class="meta">
							<span style="color: #4078c0;">{{ .Commits.Total}} commits</span>/{{ .Modifications.Files}} Archivos Modificados/<span style="color: #6cc644;">{{ .Modifications.Insertions}}++</span>/<span style="color: #bd2c00;">{{ .Modifications.Deletions}} -- </span>
						</div>
						<div class="description">
							<canvas id="myChart2" width="100" height="40px"></canvas>
						</div>
					</div>
				</div>
			{{end}}
		</div>
		<script>
		var ctx = $("#myChart");
		var myChart = new Chart(ctx, {
			type: 'line',
			data: {
				labels: ["January", "February", "March", "April", "May", "June", "July"],
				datasets: [
				{
					label: "Commits",
					fill: false,
					lineTension: 0.1,
					backgroundColor: "rgba(75,192,192,0.4)",
					borderColor: "rgba(75,192,192,1)",
					borderCapStyle: 'butt',
					borderDash: [],
					borderDashOffset: 0.0,
					borderJoinStyle: 'miter',
					pointBorderColor: "rgba(75,192,192,1)",
					pointBackgroundColor: "#fff",
					pointBorderWidth: 1,
					pointHoverRadius: 5,
					pointHoverBackgroundColor: "rgba(75,192,192,1)",
					pointHoverBorderColor: "rgba(220,220,220,1)",
					pointHoverBorderWidth: 2,
					pointRadius: 1,
					pointHitRadius: 10,
					data: [65, 59, 80, 81, 56, 55, 40],
					spanGaps: false,
				}
				]
			},
			options: {
				scales: {
					yAxes: [{
						ticks: {
							beginAtZero:true
						}
					}]
				}
			}
		});

		var ctx2 = $("#myChart2");
		var myChart = new Chart(ctx2, {
		    type: 'bar',
		    data: {
		        labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
		        datasets: [{
		            label: '# of Votes',
		            data: [12, 19, 3, 5, 2, 3],
		            backgroundColor: [
		                'rgba(255, 99, 132, 0.2)',
		                'rgba(54, 162, 235, 0.2)',
		                'rgba(255, 206, 86, 0.2)',
		                'rgba(75, 192, 192, 0.2)',
		                'rgba(153, 102, 255, 0.2)',
		                'rgba(255, 159, 64, 0.2)'
		            ],
		            borderColor: [
		                'rgba(255,99,132,1)',
		                'rgba(54, 162, 235, 1)',
		                'rgba(255, 206, 86, 1)',
		                'rgba(75, 192, 192, 1)',
		                'rgba(153, 102, 255, 1)',
		                'rgba(255, 159, 64, 1)'
		            ],
		            borderWidth: 1
		        }]
		    },
		    options: {
		        scales: {
		            yAxes: [{
		                ticks: {
		                    beginAtZero:true
		                }
		            }]
		        }
		    }
		});
		</script>
	</div>
</div>
{{template "base/footer" .}}
