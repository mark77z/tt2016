{{template "base/head" .}}
<div class="repository settings collaboration">
	<div class="ui container">
		<div class="ui grid">
			{{template "user/settings/navbar" .}}
			<div class="twelve wide column content">
				{{template "base/alert" .}}
				<h4 class="ui top attached header">
					{{.i18n.Tr "settings.manage_subject"}}
				</h4>
				<div class="ui attached segment collaborator list">
					{{range .Courses}}
						<div class="item ui grid">
							<div class="ui five wide column">
								<img class="ui avatar image" src="{{.RelAvatarLink}}">
								{{.Name}}
							</div>
							<div class="ui eight wide column">
								<span class="octicon octicon-shield"></span>
								<div class="ui inline dropdown">
								  <div class="text">{{$.i18n.Tr .Subject.ModeI18nKey}}</div>
								  <i class="dropdown icon"></i>
								  <div class="access-mode menu" data-url="{{$.Link}}/access_mode" data-uid="{{.ID}}">
								    <div class="item" data-text="{{$.i18n.Tr "repo.settings.collaboration.admin"}}" data-value="0">{{$.i18n.Tr "repo.settings.collaboration.admin"}}</div>
								    <div class="item" data-text="{{$.i18n.Tr "repo.settings.collaboration.write"}}" data-value="1">{{$.i18n.Tr "repo.settings.collaboration.write"}}</div>
								  </div>
								</div>
							</div>
							<div class="ui two wide column">
								<button class="ui red tiny button inline text-thin delete-button" data-url="{{$.Link}}/delete" data-id="{{.ID}}">
									{{$.i18n.Tr "repo.settings.delete_collaborator"}}
								</button>
							</div>
						</div>
					{{end}}
				</div>
				<div class="ui bottom attached segment {{if .Err_SubjectName}}error{{end}}">
					<form class="ui form" id="repo-collab-form" action="{{.Link}}" method="post">
						{{.CsrfTokenHtml}}
						<div class="inline field ui left">
							<div id="search-user-box">
								<div class="ui input">
									<input class="prompt" name="subject" placeholder="{{.i18n.Tr "repo.settings.search_user_placeholder"}}" autocomplete="off" autofocus required>
								</div>
								<div class="ui segment results hide"></div>
							</div>
						</div>
						<button class="ui green button">{{.i18n.Tr "repo.settings.add_collaborator"}}</button>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="ui small basic delete modal">
	<div class="ui icon header">
		<i class="trash icon"></i>
		{{.i18n.Tr "settings.email_deletion"}}
	</div>
	<div class="content">
		<p>{{.i18n.Tr "settings.email_deletion_desc"}}</p>
	</div>
	{{template "base/delete_modal_actions" .}}
</div>
{{template "base/footer" .}}
